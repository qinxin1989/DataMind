# OCR MCP å¿«é€Ÿå¼€å§‹æŒ‡å—

## ğŸš€ å¿«é€Ÿå¼€å§‹ï¼ˆ3æ­¥å®Œæˆï¼‰

### æ­¥éª¤ 1ï¼šå¯åŠ¨ OCR æœåŠ¡

```bash
# æ–¹å¼ Aï¼šç›´æ¥è¿è¡Œï¼ˆéœ€è¦ Python ç¯å¢ƒï¼‰
cd ocr-service
python app.py

# æ–¹å¼ Bï¼šä½¿ç”¨ Dockerï¼ˆæ¨èï¼‰
cd ocr-service
docker-compose up -d
```

éªŒè¯æœåŠ¡ï¼šè®¿é—® http://localhost:5100/health

### æ­¥éª¤ 2ï¼šé…ç½® MCP æœåŠ¡å™¨

åœ¨ Kiro ä¸­æ·»åŠ  MCP é…ç½®ï¼ˆ`.kiro/settings/mcp.json`ï¼‰ï¼š

```json
{
  "mcpServers": {
    "ocr": {
      "command": "node",
      "args": [
        "--loader",
        "ts-node/esm",
        "F:/Project/ai-data-platform/ai-data-platform/mcp-servers/ocr-server/index.ts"
      ],
      "env": {
        "OCR_SERVICE_URL": "http://localhost:5100"
      },
      "disabled": false,
      "autoApprove": ["ocr_check_status", "ocr_recognize_image"]
    }
  }
}
```

**âš ï¸ é‡è¦ï¼š** å°†è·¯å¾„æ›¿æ¢ä¸ºä½ çš„å®é™…é¡¹ç›®è·¯å¾„ï¼

### æ­¥éª¤ 3ï¼šé‡å¯ Kiro

é‡å¯ Kiro ä»¥åŠ è½½ MCP æœåŠ¡å™¨ã€‚

## âœ… éªŒè¯å®‰è£…

åœ¨ Kiro çš„ AI å¯¹è¯ä¸­è¾“å…¥ï¼š

```
è¯·æ£€æŸ¥ OCR æœåŠ¡çŠ¶æ€
```

å¦‚æœçœ‹åˆ°ç±»ä¼¼ä»¥ä¸‹å“åº”ï¼Œè¯´æ˜é…ç½®æˆåŠŸï¼š

```
OCRæœåŠ¡æ­£å¸¸è¿è¡Œ (GPUæ¨¡å¼)
```

## ğŸ“ ä½¿ç”¨ç¤ºä¾‹

### ç¤ºä¾‹ 1ï¼šè¯†åˆ«å›¾ç‰‡æ–‡å­—

```
è¯·å¸®æˆ‘è¯†åˆ«è¿™å¼ å›¾ç‰‡ä¸­çš„æ–‡å­—ï¼š[ç²˜è´´å›¾ç‰‡]
```

### ç¤ºä¾‹ 2ï¼šè¯†åˆ«æ–‡ä»¶

```
è¯·è¯†åˆ«æ–‡ä»¶ C:/Users/test/document.png ä¸­çš„æ–‡å­—
```

### ç¤ºä¾‹ 3ï¼šæ‰¹é‡è¯†åˆ«

```
è¯·ä¾æ¬¡è¯†åˆ«ä»¥ä¸‹å›¾ç‰‡ä¸­çš„æ–‡å­—ï¼š
1. C:/images/page1.png
2. C:/images/page2.png
3. C:/images/page3.png
```

## ğŸ› ï¸ å¯ç”¨å·¥å…·

| å·¥å…·åç§° | åŠŸèƒ½ | å‚æ•° |
|---------|------|------|
| `ocr_check_status` | æ£€æŸ¥æœåŠ¡çŠ¶æ€ | æ—  |
| `ocr_recognize_image` | è¯†åˆ«å›¾ç‰‡æ–‡å­— | `image`: å›¾ç‰‡base64æˆ–è·¯å¾„<br>`type`: `base64` æˆ– `file` |

## ğŸ”§ æ•…éšœæ’é™¤

### é—®é¢˜ï¼šMCP æœåŠ¡å™¨æ— æ³•å¯åŠ¨

**æ£€æŸ¥æ¸…å•ï¼š**
- [ ] Node.js ç‰ˆæœ¬ >= 18
- [ ] å·²å®‰è£…ä¾èµ–ï¼š`cd mcp-servers/ocr-server && npm install`
- [ ] è·¯å¾„é…ç½®æ­£ç¡®
- [ ] æŸ¥çœ‹ Kiro æ—¥å¿—

### é—®é¢˜ï¼šOCR æœåŠ¡ä¸å¯ç”¨

**æ£€æŸ¥æ¸…å•ï¼š**
- [ ] OCR æœåŠ¡å·²å¯åŠ¨
- [ ] ç«¯å£ 5100 æœªè¢«å ç”¨
- [ ] è®¿é—® http://localhost:5100/health è¿”å›æ­£å¸¸

### é—®é¢˜ï¼šè¯†åˆ«å¤±è´¥

**æ£€æŸ¥æ¸…å•ï¼š**
- [ ] å›¾ç‰‡æ ¼å¼æ”¯æŒï¼ˆJPGã€PNGã€BMPç­‰ï¼‰
- [ ] æ–‡ä»¶è·¯å¾„æ­£ç¡®ä¸”å¯è®¿é—®
- [ ] å›¾ç‰‡å¤§å° < 10MB
- [ ] Base64 ç¼–ç å®Œæ•´

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [è¯¦ç»†é…ç½®æŒ‡å—](OCR_MCP_SETUP.md)
- [OCR æœåŠ¡æ–‡æ¡£](ocr-service/README.md)
- [OCR åŠŸèƒ½ä½¿ç”¨æŒ‡å—](OCR_SETUP_GUIDE.md)

## ğŸ’¡ æç¤º

1. **GPU åŠ é€Ÿ**ï¼šå¦‚æœæœ‰ NVIDIA GPUï¼ŒOCR ä¼šè‡ªåŠ¨ä½¿ç”¨ GPU åŠ é€Ÿ
2. **å›¾ç‰‡è´¨é‡**ï¼šç¡®ä¿å›¾ç‰‡æ¸…æ™°ï¼Œæ–‡å­—ä¸è¦å¤ªå°
3. **æ‰¹é‡å¤„ç†**ï¼šå»ºè®®é€å¼ è¯†åˆ«ï¼Œä¾¿äºé”™è¯¯å¤„ç†
4. **å®‰å…¨æ€§**ï¼šåªåœ¨å¯ä¿¡ç¯å¢ƒä¸­ä½¿ç”¨æ–‡ä»¶è·¯å¾„æ¨¡å¼

## ğŸ¯ ä¸‹ä¸€æ­¥

- å°è¯•è¯†åˆ«ä¸åŒç±»å‹çš„å›¾ç‰‡
- é›†æˆåˆ°ä½ çš„å·¥ä½œæµç¨‹ä¸­
- æ¢ç´¢æ›´å¤š MCP åŠŸèƒ½

---

**éœ€è¦å¸®åŠ©ï¼Ÿ** æŸ¥çœ‹å®Œæ•´æ–‡æ¡£æˆ–æäº¤ Issueã€‚
