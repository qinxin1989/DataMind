{
  "name": "ai-crawler-assistant",
  "displayName": "AI爬虫助手",
  "version": "1.0.0",
  "description": "AI驱动的智能爬虫助手，支持网页分析、选择器生成、预览抓取、模板管理",
  "author": "System Team",
  "license": "MIT",
  
  "type": "business",
  "category": "ai",
  "tags": ["ai", "crawler", "web-scraping", "assistant"],
  
  "dependencies": {
    "ai-config": "^1.0.0"
  },
  
  "peerDependencies": {
    "node": ">=18.0.0",
    "vue": "^3.0.0"
  },
  
  "backend": {
    "entry": "./backend/index.ts",
    "routes": {
      "prefix": "/ai",
      "file": "./backend/routes.ts"
    }
  },
  
  "frontend": {
    "entry": "./frontend/index.ts",
    "routes": "./frontend/routes.ts",
    "components": {
      "CrawlerAssistant": "./frontend/views/CrawlerAssistant.vue"
    }
  },
  
  "menus": [
    {
      "id": "ai-crawler-assistant-menu",
      "title": "爬虫助手",
      "path": "/ai/crawler-assistant",
      "icon": "RobotOutlined",
      "parentId": "ai-menu",
      "sortOrder": 3,
      "permission": "ai:view"
    }
  ],
  
  "permissions": [
    {
      "code": "ai:view",
      "name": "查看AI功能",
      "description": "查看AI爬虫助手和相关功能"
    }
  ],
  
  "config": {
    "schema": "./config/schema.json"
  },
  
  "hooks": {
    "beforeInstall": "./backend/hooks/beforeInstall.ts",
    "afterInstall": "./backend/hooks/afterInstall.ts",
    "beforeUninstall": "./backend/hooks/beforeUninstall.ts",
    "afterUninstall": "./backend/hooks/afterUninstall.ts",
    "beforeEnable": "./backend/hooks/beforeEnable.ts",
    "afterEnable": "./backend/hooks/afterEnable.ts",
    "beforeDisable": "./backend/hooks/beforeDisable.ts",
    "afterDisable": "./backend/hooks/afterDisable.ts"
  },
  
  "database": {
    "tables": ["crawler_templates", "crawler_template_fields", "crawler_assistant_conversations", "crawler_assistant_messages"],
    "version": "1.0.0"
  },
  
  "api": {
    "endpoints": [
      {
        "method": "POST",
        "path": "/ai/crawler/analyze",
        "description": "分析网页并生成选择器",
        "permission": "ai:view"
      },
      {
        "method": "POST",
        "path": "/ai/crawler/chat",
        "description": "智能爬虫助手对话",
        "permission": "ai:view"
      },
      {
        "method": "POST",
        "path": "/ai/crawler/preview",
        "description": "预览爬虫效果",
        "permission": "ai:view"
      },
      {
        "method": "POST",
        "path": "/ai/crawler/diagnose",
        "description": "AI失败诊断",
        "permission": "ai:view"
      },
      {
        "method": "POST",
        "path": "/ai/crawler/test",
        "description": "测试爬虫模板",
        "permission": "ai:view"
      },
      {
        "method": "GET",
        "path": "/ai/crawler/proxy",
        "description": "网页预览代理",
        "permission": "ai:view"
      },
      {
        "method": "POST",
        "path": "/ai/crawler/template",
        "description": "保存爬虫模板",
        "permission": "ai:view"
      },
      {
        "method": "POST",
        "path": "/ai/crawler/validate-selector",
        "description": "验证CSS选择器",
        "permission": "ai:view"
      },
      {
        "method": "GET",
        "path": "/ai/crawler/templates",
        "description": "获取模板列表",
        "permission": "ai:view"
      },
      {
        "method": "GET",
        "path": "/ai/crawler/templates/:id",
        "description": "获取单个模板",
        "permission": "ai:view"
      },
      {
        "method": "PUT",
        "path": "/ai/crawler/templates/:id",
        "description": "更新模板",
        "permission": "ai:view"
      },
      {
        "method": "DELETE",
        "path": "/ai/crawler/templates/:id",
        "description": "删除模板",
        "permission": "ai:view"
      },
      {
        "method": "GET",
        "path": "/ai/crawler-conversations-latest",
        "description": "获取最新对话",
        "permission": "ai:view"
      },
      {
        "method": "GET",
        "path": "/ai/crawler-conversations",
        "description": "获取对话列表",
        "permission": "ai:view"
      },
      {
        "method": "GET",
        "path": "/ai/crawler-conversations/:id",
        "description": "获取对话详情",
        "permission": "ai:view"
      },
      {
        "method": "POST",
        "path": "/ai/crawler-conversations",
        "description": "创建新对话",
        "permission": "ai:view"
      },
      {
        "method": "PUT",
        "path": "/ai/crawler-conversations/:id",
        "description": "更新对话",
        "permission": "ai:view"
      },
      {
        "method": "DELETE",
        "path": "/ai/crawler-conversations/:id",
        "description": "删除对话",
        "permission": "ai:view"
      }
    ]
  },
  
  "enabled": false,
  "installed": false
}
